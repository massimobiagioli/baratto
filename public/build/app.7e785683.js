(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{ng4s:function(e,t,n){"use strict";n.r(t);var r=n("oCYn"),a=function(){var e=this.$createElement;return(this._self._c||e)("router-view")};a._withStripped=!0;var o={},s=n("KHd+"),i=Object(s.a)(o,a,[],!1,null,null,null);i.options.__file="assets/js/components/App.vue";var c=i.exports,u=n("zlta"),l=n.n(u),p=n("jE9Z"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"col s12 m6"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-content"},[n("span",{staticClass:"card-title"},[e._v("Login")]),e._v(" "),n("div",{staticClass:"row"},[n("form",{staticClass:"col s12"},[n("div",{staticClass:"row"},[n("div",{staticClass:"input-field col s12"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"validate",attrs:{id:"email",type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),n("label",{attrs:{for:"email"}},[e._v("Email")])])]),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"input-field col s12"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"validate",attrs:{id:"password",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),n("label",{attrs:{for:"password"}},[e._v("Password")])])])])])]),e._v(" "),n("div",{staticClass:"card-action"},[n("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.login({email:e.email,password:e.password})}}},[e._v("login")])])])])])};v._withStripped=!0;n("pNMO"),n("TeQF"),n("QWBl"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("FZtP");var d=n("L2JU");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={name:"Login",data:function(){return{email:"",password:""}},methods:m({},Object(d.b)("auth",["login"])),computed:m({},Object(d.c)("auth",{accessToken:function(e){return e.accessToken}}))},b=Object(s.a)(h,v,[],!1,null,null,null);b.options.__file="assets/js/components/Login.vue";var g=b.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"col s12 m6"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-content"},[n("span",{staticClass:"card-title"},[e._v("Articoli")]),e._v(" "),n("div",{staticClass:"row"},[n("form",{staticClass:"col s12"},[n("ul",{attrs:{id:"example-1"}},e._l(e.articoli,(function(t){return n("li",{key:t.id},[n("div",{staticClass:"row"},[n("div",{staticClass:"col s6 m6"},[n("span",[e._v(e._s(t.nome)+" (Valore: "+e._s(t.monete)+" monete)")])]),e._v(" "),n("div",{staticClass:"col s6 m6"},[n("span",[n("a",{staticClass:"waves-effect waves-light btn",on:{click:function(n){return e.updateArticolo(t.id)}}},[e._v("Modifica")]),e._v(" "),n("a",{staticClass:"waves-effect waves-light btn",on:{click:function(n){return e.deleteArticolo(t.id)}}},[e._v("Elimina")])])])])])})),0),e._v(" "),n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"input-field col s12"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.nome,expression:"nome"}],staticClass:"validate",attrs:{id:"nome",type:"text"},domProps:{value:e.nome},on:{input:function(t){t.target.composing||(e.nome=t.target.value)}}}),e._v(" "),n("label",{attrs:{for:"nome"}},[e._v("Nome")])])]),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"input-field col s12"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.monete,expression:"monete"}],staticClass:"validate",attrs:{id:"monete",type:"number"},domProps:{value:e.monete},on:{input:function(t){t.target.composing||(e.monete=t.target.value)}}}),e._v(" "),n("label",{attrs:{for:"monete"}},[e._v("Monete")])])])])])])]),e._v(" "),n("div",{staticClass:"card-action"},[n("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.listArticoli()}}},[e._v("Elenca")]),e._v(" "),n("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.insertArticolo()}}},[e._v("Inserisci")])])])])])};O._withStripped=!0;n("07d7"),n("5s+n"),n("ls82");function y(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){y(o,r,a,s,i,"next",e)}function i(e){y(o,r,a,s,i,"throw",e)}s(void 0)}))}}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,a,o,s,i,c,u;return t=e,(n=[{key:"login",value:(u=j(regeneratorRuntime.mark((function e(t,n){var r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",body:JSON.stringify({email:t,password:n})},e.prev=1,e.next=4,fetch("/api/auth/login",r);case 4:return a=e.sent,e.next=7,a.json();case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(e,t){return u.apply(this,arguments)})},{key:"listArticoli",value:(c=j(regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("X-AUTH-TOKEN",t),r={method:"GET",headers:n},e.prev=3,e.next=6,fetch("/api/admin/articoli",r);case 6:return a=e.sent,e.next=9,a.json();case 9:return o=e.sent,e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e){return c.apply(this,arguments)})},{key:"getArticolo",value:(i=j(regeneratorRuntime.mark((function e(t,n){var r,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("X-AUTH-TOKEN",t),a={method:"GET",headers:r},e.prev=3,e.next=6,fetch("/api/admin/articoli/".concat(n),a);case 6:return o=e.sent,e.next=9,o.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return i.apply(this,arguments)})},{key:"insertArticolo",value:(s=j(regeneratorRuntime.mark((function e(t,n){var r,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("X-AUTH-TOKEN",t),a={method:"POST",headers:r,body:JSON.stringify(n)},e.prev=3,e.next=6,fetch("/api/admin/articoli",a);case 6:return o=e.sent,e.next=9,o.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return s.apply(this,arguments)})},{key:"updateArticolo",value:(o=j(regeneratorRuntime.mark((function e(t,n,r){var a,o,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("X-AUTH-TOKEN",t),o={method:"PUT",headers:a,body:JSON.stringify(r)},e.prev=3,e.next=6,fetch("/api/admin/articoli/".concat(n),o);case 6:return s=e.sent,e.next=9,s.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t,n){return o.apply(this,arguments)})},{key:"deleteArticolo",value:(a=j(regeneratorRuntime.mark((function e(t,n){var r,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("X-AUTH-TOKEN",t),a={method:"DELETE",headers:r},e.prev=3,e.next=6,fetch("/api/admin/articoli/".concat(n),a);case 6:return o=e.sent,e.next=9,o.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return a.apply(this,arguments)})}])&&_(t.prototype,n),r&&_(t,r),e}();function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){C(o,r,a,s,i,"next",e)}function i(e){C(o,r,a,s,i,"throw",e)}s(void 0)}))}}var T=new k,R={name:"Admin",data:function(){return{articoli:[],nome:"",monete:0}},mounted:function(){""!=this.accessToken&&this.allowAdmin||this.$router.push({path:"/login"})},methods:{listArticoli:function(){var e=this;return P(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.listArticoli(e.accessToken);case 2:e.articoli=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getArticolo:function(e){var t=this;return P(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.getArticolo(t.accessToken,e);case 2:n.sent;case 3:case"end":return n.stop()}}),n)})))()},insertArticolo:function(){var e=this;return P(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={nome:e.nome,monete:e.monete},t.next=3,T.insertArticolo(e.accessToken,n);case 3:return t.sent,t.next=6,e.listArticoli();case 6:case"end":return t.stop()}}),t)})))()},updateArticolo:function(e){var t=this;return P(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={nome:t.nome,monete:t.monete},n.next=3,T.updateArticolo(t.accessToken,e,r);case 3:return n.sent,n.next=6,t.listArticoli();case 6:case"end":return n.stop()}}),n)})))()},deleteArticolo:function(e){var t=this;return P(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.deleteArticolo(t.accessToken,e);case 2:return n.next=4,t.listArticoli();case 4:case"end":return n.stop()}}),n)})))()}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(d.c)("auth",{accessToken:function(e){return e.accessToken},allowAdmin:function(e){return e.allowAdmin}}))},E=Object(s.a)(R,O,[],!1,null,null,null);E.options.__file="assets/js/components/Admin.vue";var S=E.exports,D=function(){var e=this.$createElement;this._self._c;return this._m(0)};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}D._withStripped=!0;var U={name:"User",mounted:function(){""!=this.accessToken&&this.allowAdmin||this.$router.push({path:"/login"})},methods:{},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(d.c)("auth",{accessToken:function(e){return e.accessToken},allowAdmin:function(e){return e.allowAdmin}}))},$=Object(s.a)(U,D,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col s12 m6"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-content"},[this._v("\n        Area Utente ...\n      ")]),this._v(" "),t("div",{staticClass:"card-action"})])])])}],!1,null,null,null);$.options.__file="assets/js/components/User.vue";var L=$.exports;r.default.use(p.a);var J=new p.a({routes:[{path:"/login",name:"Login",component:g},{path:"/admin",name:"Admin",component:S},{path:"/",name:"User",component:L}]});function K(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}var X={namespaced:!0,state:{accessToken:"",allowAdmin:!1},mutations:{login:function(e,t){e.accessToken=t.accessToken,e.allowAdmin=t.allowAdmin}},actions:{login:function(e,t){var n,r=e.commit;return(n=regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new k,e.next=3,n.login(t.email,t.password);case 3:(a=e.sent)?(r("login",a),J.push({path:"/"})):r("login",{accessToken:"",allowAdmin:!1});case 5:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function s(e){K(o,r,a,s,i,"next",e)}function i(e){K(o,r,a,s,i,"throw",e)}s(void 0)}))})()}}};r.default.use(d.a);var M=new d.a.Store({modules:{auth:X}});new r.default({vuetify:l.a,router:J,store:M,render:function(e){return e(c)}}).$mount("#app")}},[["ng4s","runtime",0]]]);