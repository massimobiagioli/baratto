(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{ng4s:function(e,t,r){"use strict";r.r(t);var n=r("oCYn"),a=function(){var e=this.$createElement;return(this._self._c||e)("router-view")};a._withStripped=!0;var s={},i=r("KHd+"),o=Object(i.a)(s,a,[],!1,null,null,null);o.options.__file="assets/js/components/App.vue";var c=o.exports,u=r("zlta"),l=r.n(u),p=r("jE9Z"),v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row"},[r("div",{staticClass:"col s12 m6"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-content"},[r("span",{staticClass:"card-title"},[e._v("Login")]),e._v(" "),r("div",{staticClass:"row"},[r("form",{staticClass:"col s12"},[r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"validate",attrs:{id:"email",type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),r("label",{attrs:{for:"email"}},[e._v("Email")])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"validate",attrs:{id:"password",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),r("label",{attrs:{for:"password"}},[e._v("Password")])])])])])]),e._v(" "),r("div",{staticClass:"card-action"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.login({email:e.email,password:e.password})}}},[e._v("login")])])])])])};v._withStripped=!0;r("pNMO"),r("TeQF"),r("QWBl"),r("HRxU"),r("eoL8"),r("5DmW"),r("27RR"),r("tkto"),r("FZtP");var d=r("L2JU");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w={name:"Login",data:function(){return{email:"",password:""}},methods:m({},Object(d.b)("auth",["login"])),computed:m({},Object(d.c)("auth",{accessToken:function(e){return e.accessToken}}))},g=Object(i.a)(w,v,[],!1,null,null,null);g.options.__file="assets/js/components/Login.vue";var b=g.exports,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row"},[r("div",{staticClass:"col s12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-content"},[r("span",{staticClass:"card-title"},[e._v("Articoli")]),e._v(" "),r("div",{staticClass:"row"},[r("form",{staticClass:"col s12"},[r("ul",{attrs:{id:"example-1"}},e._l(e.articoli,(function(t){return r("li",{key:t.id},[r("div",{staticClass:"row"},[r("div",{staticClass:"col s6"},[r("span",[e._v(e._s(t.nome)+" (Valore: "+e._s(t.monete)+" monete)")])]),e._v(" "),r("div",{staticClass:"col s6"},[r("span",[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(r){return e.updateArticolo(t.id)}}},[e._v("Modifica")]),e._v(" "),r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(r){return e.deleteArticolo(t.id)}}},[e._v("Elimina")])])])])])})),0),e._v(" "),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.nome,expression:"nome"}],staticClass:"validate",attrs:{id:"nome",type:"text"},domProps:{value:e.nome},on:{input:function(t){t.target.composing||(e.nome=t.target.value)}}}),e._v(" "),r("label",{attrs:{for:"nome"}},[e._v("Nome")])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.monete,expression:"monete"}],staticClass:"validate",attrs:{id:"monete",type:"number"},domProps:{value:e.monete},on:{input:function(t){t.target.composing||(e.monete=t.target.value)}}}),e._v(" "),r("label",{attrs:{for:"monete"}},[e._v("Monete")])])])])])])]),e._v(" "),r("div",{staticClass:"card-action"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.listArticoli()}}},[e._v("Elenca")]),e._v(" "),r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.insertArticolo()}}},[e._v("Inserisci")])])])]),e._v(" "),r("div",{staticClass:"col s12"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.logout({accessToken:e.accessToken})}}},[e._v("Logout")])])])};_._withStripped=!0;r("07d7"),r("5s+n"),r("ls82");function C(e,t,r,n,a,s,i){try{var o=e[s](i),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function k(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function i(e){C(s,n,a,i,o,"next",e)}function o(e){C(s,n,a,i,o,"throw",e)}i(void 0)}))}}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var x=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n,a,s,i,o,c,u,l,p,v,d,f,m,h,w,g;return t=e,(r=[{key:"login",value:(g=k(regeneratorRuntime.mark((function e(t,r){var n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",body:JSON.stringify({email:t,password:r})},e.prev=1,e.next=4,fetch("/api/auth/login",n);case 4:return a=e.sent,e.next=7,a.json();case 7:return s=e.sent,e.abrupt("return",s);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(e,t){return g.apply(this,arguments)})},{key:"logout",value:(w=k(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/auth/logout?accessToken=".concat(t));case 3:return r=e.sent,e.next=6,r.json();case 6:e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return w.apply(this,arguments)})},{key:"listArticoli",value:(h=k(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("X-AUTH-TOKEN",t),n={method:"GET",headers:r},e.prev=3,e.next=6,fetch("/api/admin/articoli",n);case 6:return a=e.sent,e.next=9,a.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e){return h.apply(this,arguments)})},{key:"getArticolo",value:(m=k(regeneratorRuntime.mark((function e(t,r){var n,a,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("X-AUTH-TOKEN",t),a={method:"GET",headers:n},e.prev=3,e.next=6,fetch("/api/admin/articoli/".concat(r),a);case 6:return s=e.sent,e.next=9,s.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return m.apply(this,arguments)})},{key:"insertArticolo",value:(f=k(regeneratorRuntime.mark((function e(t,r){var n,a,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("X-AUTH-TOKEN",t),a={method:"POST",headers:n,body:JSON.stringify(r)},e.prev=3,e.next=6,fetch("/api/admin/articoli",a);case 6:return s=e.sent,e.next=9,s.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return f.apply(this,arguments)})},{key:"updateArticolo",value:(d=k(regeneratorRuntime.mark((function e(t,r,n){var a,s,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("X-AUTH-TOKEN",t),s={method:"PUT",headers:a,body:JSON.stringify(n)},e.prev=3,e.next=6,fetch("/api/admin/articoli/".concat(r),s);case 6:return i=e.sent,e.next=9,i.json();case 9:return o=e.sent,e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t,r){return d.apply(this,arguments)})},{key:"deleteArticolo",value:(v=k(regeneratorRuntime.mark((function e(t,r){var n,a,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("X-AUTH-TOKEN",t),a={method:"DELETE",headers:n},e.prev=3,e.next=6,fetch("/api/admin/articoli/".concat(r),a);case 6:return s=e.sent,e.next=9,s.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return v.apply(this,arguments)})},{key:"sell",value:(p=k(regeneratorRuntime.mark((function e(t,r,n){var a,s,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("X-AUTH-TOKEN",t),s={method:"POST",headers:a,body:JSON.stringify({articoloId:r,quantita:n})},e.prev=3,e.next=6,fetch("/api/sell",s);case 6:return i=e.sent,e.next=9,i.json();case 9:return o=e.sent,e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t,r){return p.apply(this,arguments)})},{key:"buy",value:(l=k(regeneratorRuntime.mark((function e(t,r){var n,a,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("X-AUTH-TOKEN",t),a={method:"POST",headers:n,body:JSON.stringify({movimentoId:r})},e.prev=3,e.next=6,fetch("/api/buy",a);case 6:return s=e.sent,e.next=9,s.json();case 9:return i=e.sent,e.abrupt("return",i.ticket);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return l.apply(this,arguments)})},{key:"close",value:(u=k(regeneratorRuntime.mark((function e(t,r){var n,a,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("X-AUTH-TOKEN",t),a={method:"POST",headers:n,body:JSON.stringify({movimentoId:r})},e.prev=3,e.next=6,fetch("/api/close",a);case 6:return s=e.sent,e.next=9,s.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return u.apply(this,arguments)})},{key:"listItemsForSale",value:(c=k(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("X-AUTH-TOKEN",t),n={method:"GET",headers:r},e.prev=3,e.next=6,fetch("/api/listItemsForSale",n);case 6:return a=e.sent,e.next=9,a.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e){return c.apply(this,arguments)})},{key:"listItemsToBuy",value:(o=k(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("X-AUTH-TOKEN",t),n={method:"GET",headers:r},e.prev=3,e.next=6,fetch("/api/listItemsToBuy",n);case 6:return a=e.sent,e.next=9,a.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e){return o.apply(this,arguments)})},{key:"listItemsPurchased",value:(i=k(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("X-AUTH-TOKEN",t),n={method:"GET",headers:r},e.prev=3,e.next=6,fetch("/api/listItemsPurchased",n);case 6:return a=e.sent,e.next=9,a.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e){return i.apply(this,arguments)})},{key:"listItemsToClose",value:(s=k(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("X-AUTH-TOKEN",t),n={method:"GET",headers:r},e.prev=3,e.next=6,fetch("/api/listItemsToClose",n);case 6:return a=e.sent,e.next=9,a.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e){return s.apply(this,arguments)})},{key:"residualCoins",value:(a=k(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("X-AUTH-TOKEN",t),n={method:"GET",headers:r},e.prev=3,e.next=6,fetch("/api/residualCoins",n);case 6:return a=e.sent,e.next=9,a.json();case 9:return s=e.sent,e.abrupt("return",s.residualCoins);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e){return a.apply(this,arguments)})}])&&y(t.prototype,r),n&&y(t,n),e}();function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e,t,r,n,a,s,i){try{var o=e[s](i),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function j(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function i(e){R(s,n,a,i,o,"next",e)}function o(e){R(s,n,a,i,o,"throw",e)}i(void 0)}))}}var E=new x,P={name:"Admin",data:function(){return{articoli:[],nome:"",monete:0}},mounted:function(){var e=this;return j(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=e.accessToken&&e.allowAdmin){t.next=3;break}return e.$router.push({path:"/login"}),t.abrupt("return");case 3:return t.next=5,e.listArticoli();case 5:case"end":return t.stop()}}),t)})))()},methods:T({},Object(d.b)("auth",["logout"]),{listArticoli:function(){var e=this;return j(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.listArticoli(e.accessToken);case 2:e.articoli=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getArticolo:function(e){var t=this;return j(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,E.getArticolo(t.accessToken,e);case 2:r.sent;case 3:case"end":return r.stop()}}),r)})))()},insertArticolo:function(){var e=this;return j(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={nome:e.nome,monete:e.monete},t.next=3,E.insertArticolo(e.accessToken,r);case 3:return t.sent,t.next=6,e.listArticoli();case 6:case"end":return t.stop()}}),t)})))()},updateArticolo:function(e){var t=this;return j(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={nome:t.nome,monete:t.monete},r.next=3,E.updateArticolo(t.accessToken,e,n);case 3:return r.sent,r.next=6,t.listArticoli();case 6:case"end":return r.stop()}}),r)})))()},deleteArticolo:function(e){var t=this;return j(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,E.deleteArticolo(t.accessToken,e);case 2:return r.next=4,t.listArticoli();case 4:case"end":return r.stop()}}),r)})))()}}),computed:T({},Object(d.c)("auth",{accessToken:function(e){return e.accessToken},allowAdmin:function(e){return e.allowAdmin}}))},I=Object(i.a)(P,_,[],!1,null,null,null);I.options.__file="assets/js/components/Admin.vue";var N=I.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col s12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-content"},[r("span",{staticClass:"card-title"},[e._v("ELENCO ARTICOLI IN VENDITA (Monete residue: "+e._s(e.residualCoins)+")")]),e._v(" "),r("ul",{attrs:{id:"articoli_vendita"}},e._l(e.movimenti,(function(t){return r("li",{key:t.id},[r("div",{staticClass:"row"},[r("div",{staticClass:"col s12"},[r("span",[e._v(e._s(t.articolo.nome)+" - "+e._s(t.dataOperazione.date)+" - Qta: "+e._s(t.quantita))])])])])})),0)]),e._v(" "),r("div",{staticClass:"card-action"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.listItemsForSale()}}},[e._v("Aggiorna elenco")]),e._v(" "),r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.refreshResidualCoins()}}},[e._v("Aggiorna monete residue")])])])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col s12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-content"},[r("span",{staticClass:"card-title"},[e._v("VENDITA ARTICOLO")]),e._v(" "),r("div",{staticClass:"row"},[r("form",{staticClass:"col s12"},[r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s12"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.articoloId,expression:"articoloId"}],attrs:{id:"artitolo-id"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.articoloId=t.target.multiple?r:r[0]}}},e._l(e.articoli,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                        "+e._s(t.nome)+"\n                      ")])})),0),e._v(" "),r("label",{attrs:{for:"articolo-id"}},[e._v("Articolo")])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.quantita,expression:"quantita"}],staticClass:"validate",attrs:{id:"quantita",type:"number"},domProps:{value:e.quantita},on:{input:function(t){t.target.composing||(e.quantita=t.target.value)}}}),e._v(" "),r("label",{attrs:{for:"quantita"}},[e._v("Quantita")])])])])])]),e._v(" "),r("div",{staticClass:"card-action"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.sell()}}},[e._v("VENDI")])])])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col s12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-content"},[r("span",{staticClass:"card-title"},[e._v("ELENCO ARTICOLI IN VETRINA")]),e._v(" "),r("ul",{attrs:{id:"articoli_vetrina"}},e._l(e.articoliVetrina,(function(t){return r("li",{key:t.id},[r("div",{staticClass:"row"},[r("div",{staticClass:"col s12"},[r("span",{staticClass:"col s12"},[e._v(e._s(t.articolo.nome)+" - Qta: "+e._s(t.quantita))]),e._v(" "),r("span",{staticClass:"col s12"},[e._v("Venduto da "+e._s(t.venditore.nome)+" "+e._s(t.venditore.cognome)+" -  Email:  "+e._s(t.venditore.email))]),e._v(" "),r("span",{staticClass:"col s12"},[e._v("Presente dal: "+e._s(t.dataOperazione.date))]),e._v(" "),r("span",{staticClass:"col s12"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(r){return e.buy(t.id)}}},[e._v("Compra")])])])])])})),0)]),e._v(" "),r("div",{staticClass:"card-action"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.listItemsToBuy()}}},[e._v("Aggiorna elenco")])])])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col s12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-content"},[r("span",{staticClass:"card-title"},[e._v("ELENCO ARTICOLI ACQUISTATI")]),e._v(" "),r("ul",{attrs:{id:"articoli_acquistati"}},e._l(e.articoliAcquistati,(function(t){return r("li",{key:t.id},[r("div",{staticClass:"row"},[r("div",{staticClass:"col s12"},[r("span",{staticClass:"col s12"},[e._v(e._s(t.articolo.nome)+" - "+e._s(t.dataOperazione.date)+" - Qta: "+e._s(t.quantita))]),e._v(" "),r("span",{staticClass:"col s12"},[e._v("Acquistato da "+e._s(t.venditore.nome)+" "+e._s(t.venditore.cognome)+" -  Email:  "+e._s(t.venditore.email))]),e._v(" "),r("span",{staticClass:"col s12"},[e._v("Ticket: "),r("b",[e._v(e._s(t.ticket))])])])])])})),0)]),e._v(" "),r("div",{staticClass:"card-action"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.listItemsPurchased()}}},[e._v("Aggiorna elenco")])])])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col s12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-content"},[r("span",{staticClass:"card-title"},[e._v("I MIEI TICKET")]),e._v(" "),r("ul",{attrs:{id:"articoli_acquistati"}},e._l(e.articoliDaEvadere,(function(t){return r("li",{key:t.id},[r("div",{staticClass:"row"},[r("div",{staticClass:"col s12"},[r("span",{staticClass:"col s12"},[e._v(e._s(t.articolo.nome)+" - "+e._s(t.dataOperazione.date)+" - Qta: "+e._s(t.quantita))]),e._v(" "),r("span",{staticClass:"col s12"},[e._v("Acquistato da "+e._s(t.compratore.nome)+" "+e._s(t.compratore.cognome)+" -  Email:  "+e._s(t.compratore.email))]),e._v(" "),r("span",{attrs:{v:""}},[e._v("Ticket: "),r("b",[e._v(e._s(t.ticket))])]),e._v(" "),r("span",{staticClass:"col s12"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(r){return e.close(t.id)}}},[e._v("Evadi")])])])])])})),0)]),e._v(" "),r("div",{staticClass:"card-action"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.listItemsToClose()}}},[e._v("Aggiorna elenco")])])])])]),e._v(" "),r("div",{staticClass:"col s12"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.logout({accessToken:e.accessToken})}}},[e._v("Logout")])])])};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e,t,r,n,a,s,i){try{var o=e[s](i),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function L(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function i(e){U(s,n,a,i,o,"next",e)}function o(e){U(s,n,a,i,o,"throw",e)}i(void 0)}))}}S._withStripped=!0;var K=new x,X={name:"User",data:function(){return{residualCoins:0,quantita:0,articoloId:0,movimenti:[],articoliVetrina:[],articoliAcquistati:[],articoliDaEvadere:[],articoli:[]}},mounted:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=e.accessToken){t.next=3;break}return e.$router.push({path:"/login"}),t.abrupt("return");case 3:return t.next=5,e.listArticoli();case 5:return e.initMaterialWidgets(),t.next=8,e.refreshAll();case 8:case"end":return t.stop()}}),t)})))()},methods:q({},Object(d.b)("auth",["logout"]),{initMaterialWidgets:function(){var e=document.querySelectorAll("select");M.FormSelect.init(e,{})},listItemsForSale:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.listItemsForSale(e.accessToken);case 2:e.movimenti=t.sent;case 3:case"end":return t.stop()}}),t)})))()},listItemsToBuy:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.listItemsToBuy(e.accessToken);case 2:e.articoliVetrina=t.sent;case 3:case"end":return t.stop()}}),t)})))()},listItemsPurchased:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.listItemsPurchased(e.accessToken);case 2:e.articoliAcquistati=t.sent;case 3:case"end":return t.stop()}}),t)})))()},listItemsToClose:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.listItemsToClose(e.accessToken);case 2:e.articoliDaEvadere=t.sent;case 3:case"end":return t.stop()}}),t)})))()},refreshResidualCoins:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.residualCoins(e.accessToken);case 2:e.residualCoins=t.sent;case 3:case"end":return t.stop()}}),t)})))()},listArticoli:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.listArticoli(e.accessToken);case 2:e.articoli=t.sent;case 3:case"end":return t.stop()}}),t)})))()},sell:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.sell(e.accessToken,e.articoloId,e.quantita);case 2:return t.next=4,e.refreshAll();case 4:case"end":return t.stop()}}),t)})))()},buy:function(e){var t=this;return L(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,K.buy(t.accessToken,e);case 2:return r.next=4,t.refreshAll();case 4:case"end":return r.stop()}}),r)})))()},close:function(e){var t=this;return L(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,K.close(t.accessToken,e);case 2:return r.next=4,t.refreshAll();case 4:case"end":return r.stop()}}),r)})))()},refreshAll:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.refreshResidualCoins();case 2:return t.next=4,e.listItemsToBuy();case 4:return t.next=6,e.listItemsForSale();case 6:return t.next=8,e.listItemsPurchased();case 8:return t.next=10,e.listItemsToClose();case 10:case"end":return t.stop()}}),t)})))()}}),computed:q({},Object(d.c)("auth",{accessToken:function(e){return e.accessToken},allowAdmin:function(e){return e.allowAdmin}}))},F=Object(i.a)(X,S,[],!1,null,null,null);F.options.__file="assets/js/components/User.vue";var J=F.exports;n.default.use(p.a);var V=new p.a({routes:[{path:"/login",name:"Login",component:b},{path:"/admin",name:"Admin",component:N},{path:"/",name:"User",component:J}]});function Q(e,t,r,n,a,s,i){try{var o=e[s](i),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function B(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function i(e){Q(s,n,a,i,o,"next",e)}function o(e){Q(s,n,a,i,o,"throw",e)}i(void 0)}))}}var G=new x,$={namespaced:!0,state:{accessToken:"",allowAdmin:!1},mutations:{login:function(e,t){e.accessToken=t.accessToken,e.allowAdmin=t.allowAdmin},logout:function(e,t){e.accessToken="",e.allowAdmin=!1}},actions:{login:function(e,t){var r=e.commit;return B(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.login(t.email,t.password);case 2:(n=e.sent)?(r("login",n),V.push({path:"/"})):r("login",{accessToken:"",allowAdmin:!1});case 4:case"end":return e.stop()}}),e)})))()},logout:function(e,t){var r=e.commit;return B(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.logout(t.accessToken);case 2:r("logout",{}),V.push({path:"/login"});case 4:case"end":return e.stop()}}),e)})))()}}};n.default.use(d.a);var z=new d.a.Store({modules:{auth:$}});new n.default({vuetify:l.a,router:V,store:z,render:function(e){return e(c)}}).$mount("#app")}},[["ng4s","runtime",0]]]);