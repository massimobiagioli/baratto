(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{ng4s:function(e,t,r){"use strict";r.r(t);var n=r("oCYn"),a=function(){var e=this.$createElement;return(this._self._c||e)("router-view")};a._withStripped=!0;var s={},i=r("KHd+"),o=Object(i.a)(s,a,[],!1,null,null,null);o.options.__file="assets/js/components/App.vue";var c=o.exports,u=r("zlta"),l=r.n(u),p=r("jE9Z"),v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row"},[r("div",{staticClass:"col s12 m6"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-content"},[r("span",{staticClass:"card-title"},[e._v("Login")]),e._v(" "),r("div",{staticClass:"row"},[r("form",{staticClass:"col s12"},[r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"validate",attrs:{id:"email",type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),r("label",{attrs:{for:"email"}},[e._v("Email")])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"validate",attrs:{id:"password",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),r("label",{attrs:{for:"password"}},[e._v("Password")])])])])])]),e._v(" "),r("div",{staticClass:"card-action"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.login({email:e.email,password:e.password})}}},[e._v("login")])])])])])};v._withStripped=!0;r("pNMO"),r("TeQF"),r("QWBl"),r("HRxU"),r("eoL8"),r("5DmW"),r("27RR"),r("tkto"),r("FZtP");var d=r("L2JU");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w={name:"Login",data:function(){return{email:"",password:""}},methods:m({},Object(d.b)("auth",["login"])),computed:m({},Object(d.c)("auth",{accessToken:function(e){return e.accessToken}}))},g=Object(i.a)(w,v,[],!1,null,null,null);g.options.__file="assets/js/components/Login.vue";var b=g.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row"},[r("div",{staticClass:"col s12 m6"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-content"},[r("span",{staticClass:"card-title"},[e._v("Articoli")]),e._v(" "),r("div",{staticClass:"row"},[r("form",{staticClass:"col s12"},[r("ul",{attrs:{id:"example-1"}},e._l(e.articoli,(function(t){return r("li",{key:t.id},[r("div",{staticClass:"row"},[r("div",{staticClass:"col s6 m6"},[r("span",[e._v(e._s(t.nome)+" (Valore: "+e._s(t.monete)+" monete)")])]),e._v(" "),r("div",{staticClass:"col s6 m6"},[r("span",[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(r){return e.updateArticolo(t.id)}}},[e._v("Modifica")]),e._v(" "),r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(r){return e.deleteArticolo(t.id)}}},[e._v("Elimina")])])])])])})),0),e._v(" "),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.nome,expression:"nome"}],staticClass:"validate",attrs:{id:"nome",type:"text"},domProps:{value:e.nome},on:{input:function(t){t.target.composing||(e.nome=t.target.value)}}}),e._v(" "),r("label",{attrs:{for:"nome"}},[e._v("Nome")])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.monete,expression:"monete"}],staticClass:"validate",attrs:{id:"monete",type:"number"},domProps:{value:e.monete},on:{input:function(t){t.target.composing||(e.monete=t.target.value)}}}),e._v(" "),r("label",{attrs:{for:"monete"}},[e._v("Monete")])])])])])])]),e._v(" "),r("div",{staticClass:"card-action"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.listArticoli()}}},[e._v("Elenca")]),e._v(" "),r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.insertArticolo()}}},[e._v("Inserisci")])])])]),e._v(" "),r("div",[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.logout()}}},[e._v("Logout")])])])};y._withStripped=!0;r("07d7"),r("5s+n"),r("ls82");function _(e,t,r,n,a,s,i){try{var o=e[s](i),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function i(e){_(s,n,a,i,o,"next",e)}function o(e){_(s,n,a,i,o,"throw",e)}i(void 0)}))}}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n,a,s,i,o,c,u,l,p,v,d,f,m,h,w;return t=e,(r=[{key:"login",value:(w=x(regeneratorRuntime.mark((function e(t,r){var n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",body:JSON.stringify({email:t,password:r})},e.prev=1,e.next=4,fetch("/api/auth/login",n);case 4:return a=e.sent,e.next=7,a.json();case 7:return s=e.sent,e.abrupt("return",s);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(e,t){return w.apply(this,arguments)})},{key:"listArticoli",value:(h=x(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("X-AUTH-TOKEN",t),n={method:"GET",headers:r},e.prev=3,e.next=6,fetch("/api/admin/articoli",n);case 6:return a=e.sent,e.next=9,a.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e){return h.apply(this,arguments)})},{key:"getArticolo",value:(m=x(regeneratorRuntime.mark((function e(t,r){var n,a,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("X-AUTH-TOKEN",t),a={method:"GET",headers:n},e.prev=3,e.next=6,fetch("/api/admin/articoli/".concat(r),a);case 6:return s=e.sent,e.next=9,s.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return m.apply(this,arguments)})},{key:"insertArticolo",value:(f=x(regeneratorRuntime.mark((function e(t,r){var n,a,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("X-AUTH-TOKEN",t),a={method:"POST",headers:n,body:JSON.stringify(r)},e.prev=3,e.next=6,fetch("/api/admin/articoli",a);case 6:return s=e.sent,e.next=9,s.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return f.apply(this,arguments)})},{key:"updateArticolo",value:(d=x(regeneratorRuntime.mark((function e(t,r,n){var a,s,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("X-AUTH-TOKEN",t),s={method:"PUT",headers:a,body:JSON.stringify(n)},e.prev=3,e.next=6,fetch("/api/admin/articoli/".concat(r),s);case 6:return i=e.sent,e.next=9,i.json();case 9:return o=e.sent,e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t,r){return d.apply(this,arguments)})},{key:"deleteArticolo",value:(v=x(regeneratorRuntime.mark((function e(t,r){var n,a,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("X-AUTH-TOKEN",t),a={method:"DELETE",headers:n},e.prev=3,e.next=6,fetch("/api/admin/articoli/".concat(r),a);case 6:return s=e.sent,e.next=9,s.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return v.apply(this,arguments)})},{key:"sell",value:(p=x(regeneratorRuntime.mark((function e(t,r,n){var a,s,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("X-AUTH-TOKEN",t),s={method:"POST",headers:a,body:{articoloId:r,quantita:n}},e.prev=3,e.next=6,fetch("/api/sell",s);case 6:return i=e.sent,e.next=9,i.json();case 9:return o=e.sent,e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t,r){return p.apply(this,arguments)})},{key:"buy",value:(l=x(regeneratorRuntime.mark((function e(t,r){var n,a,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("X-AUTH-TOKEN",t),a={method:"POST",headers:n,body:{movimentoId:r}},e.prev=3,e.next=6,fetch("/api/buy",a);case 6:return s=e.sent,e.next=9,s.json();case 9:return i=e.sent,e.abrupt("return",i.ticket);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return l.apply(this,arguments)})},{key:"close",value:(u=x(regeneratorRuntime.mark((function e(t,r){var n,a,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("X-AUTH-TOKEN",t),a={method:"POST",headers:n,body:{movimentoId:r}},e.prev=3,e.next=6,fetch("/api/close",a);case 6:return s=e.sent,e.next=9,s.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return u.apply(this,arguments)})},{key:"listItemsForSale",value:(c=x(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("X-AUTH-TOKEN",t),n={method:"GET",headers:r},e.prev=3,e.next=6,fetch("/api/listItemsForSale",n);case 6:return a=e.sent,e.next=9,a.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e){return c.apply(this,arguments)})},{key:"listItemsToBuy",value:(o=x(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("X-AUTH-TOKEN",t),n={method:"GET",headers:r},e.prev=3,e.next=6,fetch("/api/listItemsToBuy",n);case 6:return a=e.sent,e.next=9,a.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e){return o.apply(this,arguments)})},{key:"listItemsPurchased",value:(i=x(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("X-AUTH-TOKEN",t),n={method:"GET",headers:r},e.prev=3,e.next=6,fetch("/api/listItemsPurchased",n);case 6:return a=e.sent,e.next=9,a.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e){return i.apply(this,arguments)})},{key:"listItemsToClose",value:(s=x(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("X-AUTH-TOKEN",t),n={method:"GET",headers:r},e.prev=3,e.next=6,fetch("/api/listItemsToClose",n);case 6:return a=e.sent,e.next=9,a.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e){return s.apply(this,arguments)})},{key:"residualCoins",value:(a=x(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("X-AUTH-TOKEN",t),n={method:"GET",headers:r},e.prev=3,e.next=6,fetch("/api/residualCoins",n);case 6:return a=e.sent,e.next=9,a.json();case 9:return s=e.sent,e.abrupt("return",s.residualCoins);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e){return a.apply(this,arguments)})}])&&O(t.prototype,r),n&&O(t,n),e}();function C(e,t,r,n,a,s,i){try{var o=e[s](i),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function T(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function i(e){C(s,n,a,i,o,"next",e)}function o(e){C(s,n,a,i,o,"throw",e)}i(void 0)}))}}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=new k,E={name:"Admin",data:function(){return{articoli:[],nome:"",monete:0}},mounted:function(){""!=this.accessToken&&this.allowAdmin||this.$router.push({path:"/login"})},methods:R({},Object(d.b)("auth",["logout"]),{listArticoli:function(){var e=this;return T(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.listArticoli(e.accessToken);case 2:e.articoli=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getArticolo:function(e){var t=this;return T(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,P.getArticolo(t.accessToken,e);case 2:r.sent;case 3:case"end":return r.stop()}}),r)})))()},insertArticolo:function(){var e=this;return T(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={nome:e.nome,monete:e.monete},t.next=3,P.insertArticolo(e.accessToken,r);case 3:return t.sent,t.next=6,e.listArticoli();case 6:case"end":return t.stop()}}),t)})))()},updateArticolo:function(e){var t=this;return T(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={nome:t.nome,monete:t.monete},r.next=3,P.updateArticolo(t.accessToken,e,n);case 3:return r.sent,r.next=6,t.listArticoli();case 6:case"end":return r.stop()}}),r)})))()},deleteArticolo:function(e){var t=this;return T(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,P.deleteArticolo(t.accessToken,e);case 2:return r.next=4,t.listArticoli();case 4:case"end":return r.stop()}}),r)})))()}}),computed:R({},Object(d.c)("auth",{accessToken:function(e){return e.accessToken},allowAdmin:function(e){return e.allowAdmin}}))},I=Object(i.a)(E,y,[],!1,null,null,null);I.options.__file="assets/js/components/Admin.vue";var N=I.exports,H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col s12 m6"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-content"},[e._v("\n          ELENCO ARTICOLI IN VENDITA (Monete residue: "+e._s(e.residualCoins)+")\n\n          "),r("ul",{attrs:{id:"articoli_vendita"}},e._l(e.movimenti,(function(t){return r("li",{key:t.id},[r("div",{staticClass:"row"},[r("div",{staticClass:"col s6 m6"},[r("span",[e._v(e._s(t.articolo.nome)+" - "+e._s(t.dataOperazione.date)+" - Qta: "+e._s(t.quantita))])])])])})),0)]),e._v(" "),r("div",{staticClass:"card-action"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.listItemsForSale()}}},[e._v("Aggiorna elenco")]),e._v(" "),r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.refreshResidualCoins()}}},[e._v("Aggiorna monete residue")])])])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col s12 m6"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-content"},[e._v("\n          VENDITA ARTICOLO\n\n          "),r("form",{staticClass:"col s12 m6"},[r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.quantita,expression:"quantita"}],staticClass:"validate",attrs:{id:"quantita",type:"number"},domProps:{value:e.quantita},on:{input:function(t){t.target.composing||(e.quantita=t.target.value)}}}),e._v(" "),r("label",{attrs:{for:"quantita"}},[e._v("Quantita")])])])])]),e._v(" "),r("div",{staticClass:"card-action"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.sell()}}},[e._v("VENDI")])])])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col s12 m6"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-content"},[e._v("\n          ELENCO ARTICOLI IN VETRINA\n\n          "),r("ul",{attrs:{id:"articoli_vetrina"}},e._l(e.articoliVetrina,(function(t){return r("li",{key:t.id},[r("div",{staticClass:"row"},[r("div",{staticClass:"col s6 m6"},[r("span",[e._v(e._s(t.articolo.nome)+" - "+e._s(t.dataOperazione.date)+" - Qta: "+e._s(t.quantita))]),e._v(" "),r("span",[e._v("Venduto da "+e._s(t.venditore.nome)+" "+e._s(t.venditore.cognome)+" -  Qta:  "+e._s(t.venditore.email))]),e._v(" "),r("span",[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.buy(e.articoliVetrina.id)}}},[e._v("Compra")])])])])])})),0)]),e._v(" "),r("div",{staticClass:"card-action"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.listItemsToBuy()}}},[e._v("Aggiorna elenco")])])])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col s12 m6"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-content"},[e._v("\n          ELENCO ARTICOLI ACQUISTATI\n\n          "),r("ul",{attrs:{id:"articoli_acquistati"}},e._l(e.articoliAcquistati,(function(t){return r("li",{key:t.id},[r("div",{staticClass:"row"},[r("div",{staticClass:"col s6 m6"},[r("span",[e._v(e._s(t.articolo.nome)+" - "+e._s(t.dataOperazione.date)+" - Qta: "+e._s(t.quantita))]),e._v(" "),r("span",[e._v("Acquistato da "+e._s(t.venditore.nome)+" "+e._s(t.venditore.cognome)+" -  Qta:  "+e._s(t.venditore.email))]),e._v(" "),r("span",[e._v("Ticket: "),r("b",[e._v(e._s(t.ticket))])])])])])})),0)]),e._v(" "),r("div",{staticClass:"card-action"},[r("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){return e.listItemsPurchased()}}},[e._v("Aggiorna elenco")])])])])])])};function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e,t,r,n,a,s,i){try{var o=e[s](i),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function L(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function i(e){D(s,n,a,i,o,"next",e)}function o(e){D(s,n,a,i,o,"throw",e)}i(void 0)}))}}H._withStripped=!0;var K=new k,X={name:"User",data:function(){return{residualCoins:0,quantita:0,articoloId:0,movimenti:[],articoliVetrina:[],articoliAcquistati:[],articoli:[]}},mounted:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=e.accessToken){t.next=3;break}return e.$router.push({path:"/login"}),t.abrupt("return");case 3:return t.next=5,e.refreshAll();case 5:case"end":return t.stop()}}),t)})))()},methods:U({},Object(d.b)("auth",["logout"]),{listItemsForSale:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.listItemsForSale(e.accessToken);case 2:e.movimenti=t.sent;case 3:case"end":return t.stop()}}),t)})))()},listItemsToBuy:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.listItemsToBuy(e.accessToken);case 2:e.articoliVetrina=t.sent;case 3:case"end":return t.stop()}}),t)})))()},listItemsPurchased:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.listItemsPurchased(e.accessToken);case 2:e.articoliAcquistati=t.sent;case 3:case"end":return t.stop()}}),t)})))()},refreshResidualCoins:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.residualCoins(e.accessToken);case 2:e.residualCoins=t.sent;case 3:case"end":return t.stop()}}),t)})))()},listArticoli:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.listArticoli(e.accessToken);case 2:e.articoli=t.sent;case 3:case"end":return t.stop()}}),t)})))()},sell:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.sell(e.accessToken,e.articoloId,e.quantita);case 2:return t.next=4,refreshAll();case 4:case"end":return t.stop()}}),t)})))()},buy:function(e){var t=this;return L(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.buy(t.accessToken,t.movimentoId);case 2:return e.next=4,refreshAll();case 4:case"end":return e.stop()}}),e)})))()},refreshAll:function(){var e=this;return L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.listArticoli();case 2:return t.next=4,e.refreshResidualCoins();case 4:return t.next=6,e.listItemsToBuy();case 6:return t.next=8,e.listItemsForSale();case 8:return t.next=10,e.listItemsPurchased();case 10:case"end":return t.stop()}}),t)})))()}}),computed:U({},Object(d.c)("auth",{accessToken:function(e){return e.accessToken},allowAdmin:function(e){return e.allowAdmin}}))},V=Object(i.a)(X,H,[],!1,null,null,null);V.options.__file="assets/js/components/User.vue";var Q=V.exports;n.default.use(p.a);var F=new p.a({routes:[{path:"/login",name:"Login",component:b},{path:"/admin",name:"Admin",component:N},{path:"/",name:"User",component:Q}]});function B(e,t,r,n,a,s,i){try{var o=e[s](i),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function G(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function i(e){B(s,n,a,i,o,"next",e)}function o(e){B(s,n,a,i,o,"throw",e)}i(void 0)}))}}var $=new k,J={namespaced:!0,state:{accessToken:"",allowAdmin:!1},mutations:{login:function(e,t){e.accessToken=t.accessToken,e.allowAdmin=t.allowAdmin},logout:function(e,t){e.accessToken="",e.allowAdmin=!1}},actions:{login:function(e,t){var r=e.commit;return G(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.login(t.email,t.password);case 2:(n=e.sent)?(r("login",n),F.push({path:"/"})):r("login",{accessToken:"",allowAdmin:!1});case 4:case"end":return e.stop()}}),e)})))()},logout:function(e,t){var r=e.commit;return G(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.logout();case 2:r("logout",{}),F.push({path:"/login"});case 4:case"end":return e.stop()}}),e)})))()}}};n.default.use(d.a);var z=new d.a.Store({modules:{auth:J}});new n.default({vuetify:l.a,router:F,store:z,render:function(e){return e(c)}}).$mount("#app")}},[["ng4s","runtime",0]]]);